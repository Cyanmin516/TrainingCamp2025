# pro. Hung
- security
- date 2025-6-12 


### 常見資安缺失
廠商+統編 或 學生+ID

# 資通訊設備 
定義 「資通訊產品」是指任何與資訊傳輸、處理、儲存有關的產品，涵蓋軟體、硬體及服務，並具備網路連線能力、資料處理或控制功能者。

# 免責聲明
請先取得受測機關同意並留下佐證資料

* **主動掃描**
Nmap、弱點掃描、漏洞CVE、外洩的密碼表
* **被動掃描**
google hacking


### 網頁應用程式基礎密碼學
HTML 可辨認 
* < > 
* 同時也是&lt; &gt;
一般設計是取代掉<>成空白鍵 然可招受injection攻擊

### HASH
不可逆 唯一性 但可驗證性

簽證
Sure, let's break down the distinct application scenarios for Hash and Digital Signature, highlighting where each excels and why.

---

## 雜湊 (Hash) 的應用場景

雜湊主要用於**快速驗證數據的完整性**，並且不涉及身份驗證。它就像數據的「指紋」。

1.  **檔案完整性檢查 (File Integrity Verification)**
    * **場景：** 從網路上下載軟體、驅動程式、大型檔案，或將檔案從一個儲存設備複製到另一個設備。
    * **應用：** 下載網站通常會提供檔案的 MD5、SHA-1 或 SHA-256 雜湊值。使用者下載後，可以自行計算下載檔案的雜湊值，然後與網站提供的雜湊值進行比對。如果兩者一致，則證明檔案在下載過程中沒有被損壞或竄改。
    * **為什麼用雜湊：** 成本低、速度快，只需確認內容是否一致，不需要知道是誰上傳的或簽署的。

2.  **密碼儲存 (Password Storage)**
    * **場景：** 網站或應用程式儲存用戶密碼。
    * **應用：** 為了安全，網站不會直接儲存用戶的明文密碼，而是儲存密碼的雜湊值（通常會加上「鹽值」salt 以增加安全性）。當用戶登入時，系統會對用戶輸入的密碼進行雜湊運算，然後與儲存的雜湊值比對。
    * **為什麼用雜湊：** 即使資料庫洩漏，攻擊者也只能得到密碼的雜湊值，難以逆推出原始密碼，保護了用戶隱私。無需數位簽章來驗證「密碼」本身。

3.  **區塊鏈 (Blockchain)**
    * **場景：** 加密貨幣（如比特幣、以太坊）的底層技術。
    * **應用：** 每個區塊的內容（交易記錄、時間戳等）都會被雜湊運算，生成一個唯一的雜湊值。這個雜湊值會被包含在下一個區塊中，形成一條環環相扣的鏈條。任何對歷史區塊的篡改都會導致後續區塊的雜湊值不匹配，從而被立即發現。
    * **為什麼用雜湊：** 確保區塊鏈上所有交易記錄的不可篡改性，維持去中心化帳本的數據完整性。數位簽章用於驗證交易的合法性（誰發送了這筆交易），而雜湊用於鏈接區塊和保證整個區塊鏈的完整性。

4.  **數據庫索引和查找 (Database Indexing and Lookup)**
    * **場景：** 大規模數據庫中的快速數據查找。
    * **應用：** 雜湊表 (Hash Table) 利用雜湊函式將鍵值 (Key) 映射到儲存位置，從而實現快速的數據插入和檢索。
    * **為什麼用雜湊：** 提高數據查詢效率。這是一個純粹的數據結構應用，與安全無關。

---

## 數位簽章 (Digital Signature) 的應用場景

數位簽章主要用於**提供身份驗證、數據完整性和不可否認性**，通常涉及法律效力或高度信任的場景。它就像一個具備法律效力的手寫簽名。

1.  **電子合約和法律文件 (Electronic Contracts and Legal Documents)**
    * **場景：** 簽署租賃合同、銷售協議、保密協議等電子文件。
    * **應用：** 簽署方使用其私鑰對合約的雜湊值進行簽署，證明其同意合約內容且無法否認。在許多國家，符合條件的數位簽章具有與手寫簽名同等的法律效力。
    * **為什麼用數位簽章：** 需要證明簽署者的身份、確保內容未被修改，並提供法律上的不可否認性。

2.  **電子郵件安全 (Secure Email)**
    * **場景：** 發送重要或敏感的電子郵件。
    * **應用：** 發送者對郵件內容進行數位簽章，接收者可以使用發送者的公鑰驗證郵件是否真的來自該發送者，以及郵件內容在傳輸過程中是否被篡改。
    * **為什麼用數位簽章：** 解決電子郵件的身份偽造和內容篡改問題，增加通訊的信任度。

3.  **軟體程式碼簽名 (Software Code Signing)**
    * **場景：** 軟體開發商發布可執行文件、驅動程式或應用程式。
    * **應用：** 開發商對軟體進行數位簽章。用戶下載軟體後，可以驗證簽章，確認軟體確實來自該開發商，並且在發布後沒有被惡意修改或植入病毒。
    * **為什麼用數位簽章：** 防止惡意軟體偽裝成合法軟體，保護用戶免受安全威脅，建立開發商的信譽。

4.  **線上金融交易 (Online Financial Transactions)**
    * **場景：** 銀行轉帳、股票交易、線上支付等。
    * **應用：** 用戶在進行交易時，通常會使用數位簽章來確認交易指令。銀行或其他金融機構會驗證這個簽章，以確保交易確實是由合法的帳戶持有人發起的，並且交易內容未被篡改。
    * **為什麼用數位簽章：** 確保交易的合法性、安全性、不可否認性，防止未經授權的交易。

5.  **數位憑證 (Digital Certificates)**
    * **場景：** 建立安全的網路連線（如 HTTPS）、VPN、物聯網設備身份驗證。
    * **應用：** 憑證機構 (CA) 會對數位憑證進行數位簽章，以證明憑證的合法性和發行者的身份。瀏覽器會驗證 CA 的簽章來判斷網站的憑證是否可信。
    * **為什麼用數位簽章：** 作為信任鏈的核心，用於驗證身份，建立信任基礎，確保通訊安全。

---

## 總結區別

* **雜湊：** 關注「**數據本身有沒有被改變？**」。它是一種**內容驗證**工具，不涉及身份。
* **數位簽章：** 關注「**這份數據是不是由聲稱的人發出的？而且有沒有被改變？**」。它是一種**身份驗證、內容完整性驗證和不可否認性**的綜合工具。

數位簽章通常在雜湊的基礎上，增加了私鑰加密和公開金鑰基礎設施 (PKI) 的機制，從而實現了更強大的安全保障和法律效力。



base64 
data:image/jpeg/;base64,/... ...==
---
## MD5、SHA雜湊
1. 是種單向函式 one-way function
2. 不可逆
3. 固定長度抗碰撞性 collision resistance
4. 雪崩效應 avalanche effect :微小輸入變化導致完全不同輸出

### MD5 
128 bits
速度快
應用: 檔案完整性驗證(下載檔案校驗)、雜湊索引(資料庫分片)、但不推薦使用原始密碼儲存(不安全)

### SHA 系列
一代 同MD5
二代 SHA-256 最常用，變體 SHA-384 SHA-512
三代 sponge construction架構 為了應付量子電腦的潛在威脅


---

# 網頁應用程式基礎知識

+ **Cookie**
    + Server傳給瀏覽器使用者的"資料"，紀錄特定資訊以便未來使用
+ **Session**
    + 記錄在server端，session機制會在一個用戶完成身分認證後，產生一個新ID，存下使用者資料
## Cookie
伺服器透過HTTP回應設定給用戶端，不修改伺服器資料且不影響安全性

常見用途:
+   使用者偏好(語言、主題)
+   實現"記住我"功能
+   分析使用者行為(追蹤碼、Google Analytics)
+   客戶端儲存JWT、TOKEN( 有資安風險)
## Session
伺服器儲存使用者暫時狀態(ID,權限，購物車)

# 風險評估參考基準
CVSS
OWASP
MITRE ATT&CK

## 描述漏洞 CVE、CWE
公共漏洞和揭露 CVE-年分-流水號
通用缺陷列表 CWE - ID: 缺陷名稱

通用平台列表 
CPE:**資產分類**:廠商名稱:產品名稱產品辦本/產品更新:產品版次:語系
資產分類為 CPE:作業系統(O)、應用程式(A)、硬體設備(H)
軟體資產標準化統一命名的方式，並收集在NVD中

### OWSAP TOP 10 LLM APP
十大風險


# 自我檢測基礎工具
## 傳統式二層架構 client to server
app to DB

app還需要
+ 連接字串
+ DB's IP or Domain
+ DB's PWD manager@

所以資料庫使用者連線資料會留在APP下

可能是 exe、ini、DLL、ODBC資料庫連線字串 尤其是ini可以用文字檔打開最不安全

或用wireshark等封包錄製工具取得資料庫敏感資訊
### 仲介商用邏輯
app to logic to DB

處理連結資料庫的

認證使用者存取

