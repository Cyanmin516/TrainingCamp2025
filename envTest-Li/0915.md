# 
- speacher: pro. Li
- date: 2025-9-15
- class 3

## topics
- default
- basic console, enable, IP, SSH
- TFTP
- VLAN 
- SWITCH PORT SECURITY
- 單臂路由
- L3交換機
- 靜態路由(IPv4/IPv6)
- 動態路由(IPv4/IPv6)

## 實作 SSH and upload
TPFP 
```
copy tftp: running-config
<IP>
<path>相對路徑/伺服器目錄下，斜線與windows系統不同
<filename>
```

**switch and router setting**
```
(config)# ip domain-name <new-domain-name>
(config)# crypto key generate rsa
<1024>
(config)# username <new-username> secret <new-password>
(config)# line vty 0 4
(config-line)# transport input ssh
(config-line)# login local
上傳
# copy run tftp
<IP>
<file path>
```

**網路問題** : 只留一條網路線連線

**SSH檢查** : putty set <192.168.104.5> , port 22 , SSH

**help**
```
已經有網域
no ip domain-name
查SSH使用者, router IP設定
show running-config 
```

**還原預設值**
write erase; delete vlan.dat
reload
[save]:no
[proces]:<cr>

after reboot
[tutorial]: n
[autosetting]:y

**設定IP**
int g0/0 
ip address ip mask
no shutdown

## vlan
switch set vlans
vlan10 : fa0/1, fa0/3
vlan20 : fa0/2, fa0/4

vlan 1 set IP 
vlan 10 set IP 
vlan 20 set IP

PC設定多IP, 網際網路設定, 進階, 乙太網路, 更多介面卡(編輯), IPv4, 進階, 新增IP/mask


## pre-view
- set console, enable, IP, SSH
- tftp32.exe as ftp server
- putty.ext to link termainal

```
console-usb physical link
Putty
COM5, serial port
terminal 
```

### Switch cmd
[自行決定的參數]
<自行決定的參數>
```console
login: <ccna>
> enable
password:<ccna>
# configure terminal
(conf)# hostname <S1>
(conf)# enable password ccna
(conf)# line console 0
(conf-line)# password ccna
(conf-line)# exit
(conf)# in vlan 1
(conf-if)# ip address 192.168.104.5 255.255.255.0
(conf-if)# end
#wr
# copy running-config tftp
<192.168.104.XX>
name: <s1-confg>
# copy startup-config tftp
<192.168.104.XX>
name: <s1-startupcfg>
# copy flash tftp:
</dir/IOS.bin>
<192.168.104.XX>
<cr>
```
what can help:
1. cable check
- show ip interface brief
if physical is correct, `status`(link) is up and `protocol`(speed) is up.
2. ping check ip
switch depends vlan ip, and PC need setting NIC an IP in the segment.
PC's firewall need close or enable ICMPv4.
3. flash bin info
`show version` and looking for the system image file flash:/dir/IOS.bin
the name may be long, you can copy it with mouse right-click.

### Router cmd
<自行決定的參數>
```console
login:<ccna>
> enable
password:<ccna>
# configure terminal
(conf)# hostname <R1>
(conf)# enable password ccna
(conf)# line console 0
(conf-line)# password ccna
(conf-line)# exit
(conf)# interface g0/0
(conf-if)# ip address 192.168.104.5 255.255.255.0
(conf-if)# end
#wr
# copy running-config tftp
<192.168.104.XX>
name: <r1-confg>
# copy startup-config tftp
<192.168.104.XX>
name: <r1-startupcfg>
# copy flash tftp:
</dir/IOS.bin>
<192.168.104.XX>
<cr>
``` 

 