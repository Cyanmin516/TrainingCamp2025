# pro.Huang
- user NTFS
- date 2025-6-25

Here's an improved English description of your account setting requirements, focusing on clarity and common IT terminology:

---

## Account and Folder Permissions Configuration

This configuration outlines the setup for user accounts and their respective access permissions on shared folders.

### Sample 1 Requirements:

1.  **User Account Creation:** Create three new local user accounts: **User1**, **User2**, and **User3**.

2.  **Base Shared Folder Setup:**
    * Create a new folder named "**public\_data**" directly under the `D:\` drive.
    * This **public\_data** folder should have **Read-only** access for all users.

3.  **Subfolder Creation within `public_data`:** Create three subfolders within the `D:\public_data` directory:
    * `D:\public_data\user1`
    * `D:\public_data\user2`
    * `D:\public_data\pub`

4.  **Permissions for `user1` Folder:**
    * **User1** should have **Full Control** over the `D:\public_data\user1` folder.
    * **User2** should have **Read** access to the `D:\public_data\user1` folder.

5.  **Permissions for `user2` Folder:**
    * **User2** should have **Full Control** over the `D:\public_data\user2` folder.
    * **User1** should have **Read** access to the `D:\public_data\user2` folder.

6.  **Permissions for `pub` Folder:**
    * **User1** and **User2** should both have **Full Control** over the `D:\public_data\pub` folder.
    * All **other users** (including User3 and anyone else on the system) should have **Read** access to the `D:\public_data\pub` folder.

#### collision questions
1. **Question: uswer2 create a folder under other users' folder.**
    * `D:\public_data\user1\u2` Can user1 delete it?  Yes, user1 inherite status from **create owner**.
2. **User2 create new rule.**
    * user2 can create a folder under his folder and setting the acesss contorl.

### Sample 2 Requirements:

This section details the necessary steps for setting up a structured file system with appropriate user and group permissions.

1.  **User and Group Configuration:**
    * Create two user accounts, 'designer1' and 'designer2', and assign them to the 'design\_class' group.
    * Create two user accounts, 'clerk1' and 'clerk2', and assign them to the 'clerk\_class' group.
2.  **Directory Structure:** Establish the following subfolders within the `E:\public` directory to organize shared and role-specific files:
    * `E:\public\share`
    * `E:\public\Designers`
    * `E:\public\Clerks`
3.  **Access Control and Permissions:**
    * **`E:\public\Designers` Folder:** Provide **Full Control** access exclusively to members of the 'design\_class' group. No other users should have access.
    * **`E:\public\Clerks` Folder:** Provide **Full Control** access exclusively to members of the 'clerk\_class' group. No other users should have access.
    * **`E:\public\share` Folder:** Grant **Full Control** access to all members of both the 'design\_class' and 'clerk\_class' groups. This folder should be inaccessible to all other users.



### 設定流程
1. 右鍵 資料夾>安全性>群組>Users>進階(對群組設定))>`取消繼承`[保留原本群組 | 全部清空]>刪除特殊權限. 使用者就剩下讀取功能
2. 右鍵 資料夾>安全性>群組>Users>編輯(對使用者設定)>
3. **使用者**無法關機伺服器
4. 先`移除繼承`才做群組(上面繼承)權限移除
5. 



**user accounts**

server manager > tool> computer manager> users and groups

伺服器管理員>工具>電腦管理>本機使用者和群組

**Administrator**

Default Account name , change name at first.

Create an administrator as a low level user right.

**Users**

user name is recommanded in English. 

full name and description are option.

### add extra disk for vm
vmware setting > add.. > hard disk > NVMe (power off only)> create a new virtual disk > 20 GP , single file > filename(no change) > finish
reboost vm > 
伺服器管理員>檔案和存放服務>磁碟區>磁碟>右鍵 上線/連線 > 

**password policy**
---
server manager > tools>local security policy> accounts policy > password policy.

伺服器管理員>工具>本機安全性原則>帳戶原則>密碼原則

1. 密碼必須符合複雜性需求

這項安全性設定決定密碼是否必須符合複雜性需求。

如果啟用了此原則，則密碼必須符合下列最小需求:

不包含使用者的帳戶名稱全名中，超過兩個以上的連續字元
- 長度至少為 6 個字元
- 包含下列四種字元中的三種:
    - 英文大寫字元 (A 到 Z)
    - 英文小寫字元 (a 到 z)
    - 10 進位數字 (0 到 9)
    - 非英文字母字元 (例如: !、$、#、%)
建立或變更密碼時會強制執行複雜性需求。

2. 密碼最長使用期限:

這項安全性設定決定系統要求使用者變更密碼之前，密碼可以使用的期限 (天數)。您可以設定密碼在 1 至 999 天之後到期; 或將天數設為 0，表示密碼永遠不會到期。如果「密碼最長使用期限」介於 1 到 999 天之間，則「密碼最短使用期限」不得超過「密碼最長使用期限」的天數。如果「密碼最長使用期限」設定為 0，則「密碼最短使用期限」可以是介於 0 到 998 天之間的任何數值。

3. 密碼最短使用期限

這項安全性設定決定在使用者變更密碼之前，密碼必須使用的期限 (天數)。您可以設定 1 和 998 天之間的值，或設定天數為 0，以允許立即變更。

「密碼最短使用期限」不得超過「密碼最長使用期限」，除非「密碼最長使用期限」設定為 0，表示密碼永遠不會到期。如果「密碼最長使用期限」設定為 0，則「密碼最短使用期限」可以設定為介於 0 到 998 之間的任何數值。

如果您要讓「強制執行密碼歷程記錄」生效，請將「密碼最短使用期限」設為 0 以上。若沒有設定「密碼最短使用期限」，使用者便可重複使用密碼，直到厭倦為止。預設值並未依循此建議，所以系統管理員可為使用者指定密碼，然後在使用者登入時要求變更系統管理員定義的密碼。如果「密碼歷程記錄」設為 0，使用者便不需選擇新密碼。因此，根據預設，[強制執行密碼歷程記錄] 設定為 1。

4. 強制執行密碼歷程記錄:

這項安全性設定決定重覆使用舊密碼前，必須與使用者帳戶相關的唯一新密碼數目。此值必須介於 0 和 24 個密碼之間。

這個原則可讓系統管理員藉由確定不再繼續重複使用舊密碼，以增加安全性。

5. 最小密碼長度

此安全設定決定使用者帳戶密碼可包含的最少字元數。

此設定的最大值取決於「放寬最小密碼長度限制」的設定值。

如果未定義「放寬最小密碼長度限制」設定，則此設定可以設為 0 到 14。

如果已定義並停用「放寬最小密碼長度限制」設定，則此設定可以設為 0 到 14。

如果已定義並啟用「放寬最小密碼長度限制」設定，則此設定可以設為 0 到 128。

將所需的字元數設定為 0 表示不需要密碼。

6. 使用可還原的加密來存放密碼

這項安全性設定決定作業系統是否使用可還原的加密來存放密碼。

此原則支援應用程式使用需要知道使用者密碼來進行驗證的通訊協定。使用可還原的加密來存放密碼，基本上和存放純文字密碼是相同的。基於這個理由，除非應用程式需求比保護密碼資訊重要，否則絕不應該啟用這個原則。

當透過遠端存取或網際網路驗證服務 (IAS) 使用 Challenge-Handshake 驗證通訊協定來驗證時，便需要這項原則。在網際網路資訊服務 (IIS) 中使用摘要式驗證時，也需要這個原則。



# NTFS權限
1. 累加性
2. 繼承
3. 拒絕大於允許

**累加性**

NTFS 權限的累加性指的是，當一個使用者是多個群組的成員，並且這些群組對同一個檔案或資料夾擁有不同的「允許」權限時，這些「允許」權限會疊加起來。最終，使用者將擁有這些權限的總和。

**繼承**

NTFS 權限的繼承是指，當你在一個父資料夾上設定了權限後，這些權限會自動應用（繼承）到該資料夾下所有新的子資料夾和檔案。這大大簡化了權限的管理，因為你不需要為每一個新建立的檔案或資料夾手動設定權限。

**拒絕大於允許**

這是 NTFS 權限中最重要且最需要注意的原則之一。它表示，任何明確設定的「拒絕」權限，將會覆蓋所有「允許」權限，無論這些「允許」權限是繼承而來的還是明確設定的。換句話說，只要某個使用者或其所屬的任何群組被明確「拒絕」了某項權限，那麼該使用者就無法執行該操作。



# 共用權限 NTFS

在Windows Server 中，共用資料夾的權限設定需要同時考慮共用權限和NTFS 權限。 共用權限決定了使用者透過網路存取資料夾的權限，而NTFS 權限則決定了使用者直接在伺服器上存取資料夾的權限。 兩者共同作用，決定了最終的存取控制。

**共用權限(Share Permissions):**

**設定位置**: 在資料夾的[內容] -> [共用] 索引標籤中設定[進階共用]。

**權限類型**: 包括[讀取]、[變更] 和[完全控制]。

**影響範圍**: 僅限於透過網路存取資料夾的使用者。

**NTFS 權限(NTFS Permissions):**

**設定位置**: 在資料夾的[內容] -> [安全性] 索引標籤中設定。

**權限類型**: 更加細緻，包括[讀取、讀取和執行、寫入、修改、刪除、完全控制] 等。

**影響範圍**: 適用於所有存取資料夾的使用者，無論是透過網路還是直接在伺服器上。
設定原則:

1. **最小權限原則**:
授予使用者或群組所需的最低權限，以最小化安全風險。
2. **先共用權限，再NTFS 權限**:
確保透過網路存取的使用者具有合適的共用權限，再透過NTFS 權限限制其在伺服器上的存取。
3. **使用者和群組權限**:
使用者帳戶和群組帳戶應明確地設定權限，避免使用[所有人] 群組(除非必要且謹慎使用)。
4. **審核**:
建議啟用審核功能，記錄使用者對資料夾的存取行為，以便追蹤和分析。
建議設定步驟:
1. **設定共用權限**:
在資料夾的[內容] -> [共用] 索引標籤中，點擊[進階共用]。
勾選[共用此資料夾]，設定共用名稱，並點擊[許可權]。
移除[所有人] 群組，並添加需要共用存取權限的使用者或群組，設定適當的權限(讀取、變更等)。
2. **設定NTFS 權限**:
在資料夾的[內容] -> [安全性] 索引標籤中，點擊[編輯]。
移除[所有人] 群組，並添加需要存取權限的使用者或群組，設定適當的權限(讀取、寫入、修改等)。
3. **測試權限**:
從不同的客戶端電腦，使用不同的使用者帳戶測試，確認權限設定是否符合預期。
使用審核功能記錄存取行為，以便檢查。

新增磁碟的流程概覽
---
# 新增硬碟
無論是實體磁碟還是虛擬磁碟，新增到 Windows Server 後，通常會遵循以下幾個主要步驟：

1. **安裝或掛載磁碟**： 物理連接新硬碟，或在虛擬化環境中添加虛擬磁碟。

2. **初始化磁碟 (Initialize Disk)**： 這是磁碟初次使用的必經之路，決定了磁碟的分區方式 (MBR 或 GPT)。

3. **建立磁碟區/分區 (Create Volume/Partition)**： 將初始化後的磁碟劃分為一個或多個邏輯區域。

4. **格式化磁碟區 (Format Volume)**： 設定檔案系統（如 NTFS）並準備儲存資料。

5. **指派磁碟機代號或掛接點 (Assign Drive Letter or Mount Point)**： 讓系統和使用者能夠存取該磁碟區。

vmware hot-plugin SATA, SCSI, need power off work IDE, NVMe.