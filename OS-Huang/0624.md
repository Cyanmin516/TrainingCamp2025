# Windows Server 2022
- speacher: pro. Huang
- date: 2025-6-24
- class 3

## server install
install Windows Server 2022 in vmware workstation
安裝精靈需要重啟?
安裝Active Directory管理


**user setting**
密碼複雜性

## backup
**vm clone**
1. link, necessary link file only. depending on origin.
2. full copy, same space required 10 GB -> 10 GB.

**手動IP設定**
先ping 自己確定PING OK
ipconfig /all 確認原始 IP MASK GATEWAY
同網域下找空號
填寫進IP設定(本機>網路>介面卡>IPv4>內容>手動設定)

**常見錯誤**
vmware setting option advance bios , if uefi boosting need input
network problem, do not open two clone (or origin and clone), network interface DHCP open check

---
**Why Cloned VMs Have Network Problems (Key Points):**

* **Duplicate MAC Addresses:** Cloned VMs often share the same MAC address, confusing network switches and causing conflicts.
* **Duplicate IP Addresses (Static IPs):** If the original VM had a static IP, the clone will too, leading to an IP conflict on the network.
* **Persistent OS Network Config:** Guest OSes (especially Linux) can have old MAC addresses hardcoded in config files, preventing the new NIC from working.

**Solutions (Short & Sweet):**

1.  **Generate New MACs:** Always select the option to generate a new MAC address when cloning a VM in your hypervisor.
2.  **Unique IP Addresses:**
    * **DHCP:** New MAC usually means a new IP via DHCP.
    * **Static:** Manually change the IP address, subnet, gateway, and DNS on each clone.
3.  **Sysprep (Windows):** Run `sysprep` on the original Windows VM *before* cloning to generalize the system and remove unique IDs (like SIDs) that can cause issues.
4.  **Clear Linux Network Config:** Delete persistent network rules (e.g., `/etc/udev/rules.d/70-persistent-net.rules`) and/or update network interface config files (`ifcfg-ethX`) in the original Linux VM before cloning, or on the clone after booting. Restart network services.
---





